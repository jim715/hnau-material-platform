import{c,a as f,b as s,w as o,t as k,d as x,e as u,f as g,u as R,g as _,h as w,r as C,i as P}from"./index-C2Rltc0A.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"register-container"},N={class:"register-form"},U={key:0,class:"error-message"},B={__name:"Register",setup(F){const V=R(),d=g(null),n=g(""),r=C({username:"",nickname:"",password:"",confirmPassword:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickname:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(i,e,t)=>{e!==r.password?t(new Error("两次输入密码不一致")):t()},trigger:"blur"}]},y=async()=>{d.value&&await d.value.validate(async i=>{if(i)try{const e=await P.post("/user/register",{username:r.username,nickname:r.nickname,password:r.password});e.code===200?m():n.value=e.message}catch{n.value="注册失败，请检查网络连接"}})},m=()=>{V.push("/login")};return(i,e)=>{const t=u("el-input"),l=u("el-form-item"),p=u("el-button"),b=u("el-form");return _(),c("div",q,[f("div",N,[e[6]||(e[6]=f("h2",null,"注册账号",-1)),s(b,{model:r,rules:v,ref_key:"registerFormRef",ref:d,"label-width":"80px"},{default:o(()=>[s(l,{label:"用户名",prop:"username"},{default:o(()=>[s(t,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),s(l,{label:"姓名",prop:"nickname"},{default:o(()=>[s(t,{modelValue:r.nickname,"onUpdate:modelValue":e[1]||(e[1]=a=>r.nickname=a),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),s(l,{label:"密码",prop:"password"},{default:o(()=>[s(t,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=a=>r.password=a),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),s(l,{label:"确认密码",prop:"confirmPassword"},{default:o(()=>[s(t,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>r.confirmPassword=a),type:"password",placeholder:"请确认密码"},null,8,["modelValue"])]),_:1}),s(l,null,{default:o(()=>[s(p,{type:"primary",onClick:y,style:{width:"100%"}},{default:o(()=>[...e[4]||(e[4]=[w("注册",-1)])]),_:1})]),_:1}),s(l,null,{default:o(()=>[s(p,{type:"info",onClick:m,style:{width:"100%"}},{default:o(()=>[...e[5]||(e[5]=[w("返回登录",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),n.value?(_(),c("div",U,k(n.value),1)):x("",!0)])])}}},D=h(B,[["__scopeId","data-v-69186ce1"]]);export{D as default};
