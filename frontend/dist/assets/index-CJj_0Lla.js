import{i as o}from"./index-2wzUmdul.js";const r=o.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json;charset=UTF-8"}});r.interceptors.request.use(e=>{const t=typeof localStorage<"u"?localStorage.getItem("token"):"";return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));r.interceptors.response.use(e=>e.data,e=>(console.error("API请求错误:",e),Promise.reject(e)));const a={getHotKeywords:e=>r.get(`/search/hot?period=${e}`),getSearchHistory:()=>r.get("/search/history"),clearSearchHistory:()=>r.delete("/search/clear"),getKeywordSuggestions:(e,t=10)=>r.get(`/search/suggest?prefix=${encodeURIComponent(e)}&limit=${t}`),recordSearchLog:(e,t=0)=>r.post("/search/log",{keyword:e,resultCount:t})};export{r as a,a as s};
